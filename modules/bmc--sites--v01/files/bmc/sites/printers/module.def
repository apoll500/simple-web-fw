
//GLOBAL::

DEF RUN;

DEF PAGE;

DEF GTEXT
{
    DEF FILENAME="@parent.NAME";
    DEF PRINT_PATH="content/@LANG/@FILENAME\.txt";
    DEF TEXT_PATH="text/content/@LANG/@FILENAME\.txt";
    
    DEF JSMAIN_PATH="@NAME\.js";
    
    DEF PRINT_PATH_MAIN="content/@LANG/@parent.parent.NAME[]\.txt";
    DEF MAIN_IMG_PATH="images/@parent.date.PATHSTR[]_@parent.NAME[]/main.png";
    DEF MAIN_IMG='<img src="@MAIN_IMG_PATH">';
    DEF MAIN_IMG_LINK=`<a href="JavaScript:load_page('@FILENAME')" target="_blank">@MAIN_IMG</a>`;
    DEF MAIN_LINK=`<a href="JavaScript:load_page('@FILENAME')" target="_blank">@more</a>`;
    DEF PRINT_CONTENT_BASE="content/@LANG/";
    DEF PRINT_CATPATH="@PRINT_CONTENT_BASE[]@category.token\.txt";
    DEF PRINT_CATPATH0="@PRINT_CONTENT_BASE[]@token\.txt";
}

DEF MODULE
{
    DEF print_page:RUN
    {
        write(
            BLOCKS="_:WEBPAGE[].page:TEXT_DE-AT[]";
            OUTPATH="PRINT_PATH";
            PRINTER="PRINT";
            );
        write(
            BLOCKS="_:WEBPAGE[].page:TEXT_EN-US[]";
            OUTPATH="PRINT_PATH";
            PRINTER="PRINT";
            );
        write(
            BLOCKS="_:WEBPAGE[].page:TEXT_DE-AT[]";
            OUTPATH="TEXT_PATH";
            PRINTER="CTEXT";
            );
        write(
            BLOCKS="_:WEBPAGE[].page:TEXT_EN-US[]";
            OUTPATH="TEXT_PATH";
            PRINTER="CTEXT";
            );
    }
    DEF print_js:RUN
    {
        write(
            BLOCKS="_:JAVASCRIPT[]";
            OUTPATH="JSMAIN_PATH";
            PRINTER="LTEXT";
            );
    }
}
